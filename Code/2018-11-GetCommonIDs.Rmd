---
title: Clean Databases
output:
  html_document: default
---

We'll get a set of common IDs from the three databases (covariates, genotypes, facial morphology).

## Preliminares

Loading libraries

```{r libraries}
library(tidyverse)
```

Setting folders, and loading databases, getting common set of IDs and saving object

```{r databases, warning=FALSE}
setwd('..')
path <- getwd()

#Reading covariates
setwd(paste(path, "/DataBases", sep = ""))
covs <- read_csv("Covariates.csv", col_types = cols(ID = col_character() ) )

#Reading face PCA
setwd(paste(path, "/DataBases/FacePCA", sep = ""))
face_ids <- read_csv("landmark_ids.txt", col_names = FALSE, col_types = cols(X1 = col_character()) )

#Reading genotype files
setwd(paste(path, "/DataBases/Genotypes/GenoPCA", sep = ""))
geno_ids <- read_delim("geno.fam", col_names = FALSE, delim = " ")[,2]

common_ids <- intersect(intersect(face_ids$X1, na.omit(covs)$ID ), geno_ids$X2)
write_csv(as.data.frame(common_ids), paste(path, "/Results/common_ids.txt", sep = ""), col_names = FALSE)
```

